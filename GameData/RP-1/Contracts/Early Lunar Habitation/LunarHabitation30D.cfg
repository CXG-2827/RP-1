CONTRACT_TYPE
{
	name = LunarHabitation30D
	title = Crewed 30-Day Lunar Mission
	group = EarlyLunarHabitation

	description = <b>Program: Early Lunar Habitation</b><br><br>With a 14-day crewed Lunar mission now complete, it's time to increase the crew size and extend the time the crew spends on the moon.  Send at least 3 crew to the Moon for 30 days.  Previously landed infrastructure can be used, and a resupply mission can be sent if your mission profile requires it. 

	synopsis = Land a crew on the Moon, complete 30 days of science experimentation and exploration, then return them safely to Earth

	completedMessage = Congratulations! We have successfully completed a month-long stay on the Moon, further improving our understanding and ability to live on another world.

	cancellable = true
	declinable = false
	autoAccept = false
	minExpiry = 0
	maxExpiry = 0
	maxCompletions = 1
	maxSimultaneous = 1
	deadline = 0

	targetBody = Moon


	// ************ REWARDS ************
	prestige = Trivial       // 1.0x
	advanceFunds = 0
	rewardScience = 0
	rewardFunds = 0
	failureFunds = 0
	rewardReputation = 2000	// was 400
	failureReputation = 0 // was @rewardReputation	// was 400



	// ************ REQUIREMENTS ************

	REQUIREMENT
	{
		name = ProgramActive
		type = ProgramActive
		program = EarlyLunarHabitation
	}

	REQUIREMENT
	{
		name = CompleteContract
		type = CompleteContract
		contractType = LunarShelter14D
	}

	REQUIREMENT
	{
		name = CompleteContract
		type = CompleteContract
		contractType = first_spaceStation
	}

	PARAMETER
	{
		name = VesselGroup
		type = VesselParameterGroup
		title = Extended Duration Moon Landing
		define = ExtendedMoonLanding
	
		PARAMETER
		{
			name = NewVessel
			type = NewVessel
			title = Launch a new vessel
			hideChildren = true
		}
		PARAMETER
		{
			name = ThreeCrew
			type = HasCrew
			minCrew = 3
			maxCrew = 99
			title = Have at least 3 crew on board
			hideChildren = true
		}

		PARAMETER
		{
			name = LandCrewed
			type = All
			title = Land the crewed lander
			disableOnStateChange = true
			
			PARAMETER
			{
				name = TwoCrew
				type = HasCrew
				minCrew = 3
				maxCrew = 99
				title = Land with at least 3 crew
				hideChildren = true
			}

			PARAMETER
			{
				name = OrbitWrapper
				title = Stay on the Moon for the specified duration
				type = All
				disableOnStateChange = true
				completeInSequence = true

				PARAMETER
				{
					name = LandOnMoon
					type = ReachState
					targetBody = Moon
					situation = LANDED
				}

				PARAMETER
				{
					name = Duration
					type = Duration
					duration = 30d
					preWaitText = Land on the moon
					WaitingText = Exploring...
					completionText = Exploration complete, you may return to Earth when ready.
				}
			}
		}

		PARAMETER
		{
			name = ReturnHome
			type = RP1ReturnHome
			title = Return home safely
			hideChildren = true
			completeInSequence = true
		}
	}
}
