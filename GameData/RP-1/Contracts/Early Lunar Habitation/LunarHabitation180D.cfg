CONTRACT_TYPE
{
	name = LunarHabitation180D
	title = Crewed 30-Day Lunar Mission
	group = EarlyLunarHabitation


	description = <b>Program: Early Lunar Habitation<br>Type: <color=red>CAPSTONE</color></b><br><br>To prepare for interplanetary crewed exploration as well as matured Lunar surface habitation, the ability to maintain a dormant command module in orbit while crew operates on the surface for several months needs to be tested. Design and launch a spacecraft with at least three crew members to enter orbit at the Moon. Descend to the Lunar surface for a 90-day stay with a lunar taxi before returning back to the command module in orbit. Then, return safely to Earth.

	synopsis = Perform a 180 day Lunar stay with 6 crew, then return them back to Earth safely.

	completedMessage = Congratulations! We have proved our long-duration, high-capacity lunar habitation designs. This work provides excellent insight into what it takes to live in space for a long time. Perhaps in the future, we can permanently inhabit the Moon.

	sortKey = 708

	cancellable = true
	declinable = false
	autoAccept = false
	minExpiry = 0
	maxExpiry = 0
	maxCompletions = 1
	maxSimultaneous = 1
	deadline = 0

	targetBody = Moon


	// ************ REWARDS ************
	prestige = Trivial       // 1.0x
	advanceFunds = 0
	rewardScience = 0
	rewardFunds = 0
	failureFunds = 0
	rewardReputation = 800	// was 100
	failureReputation = 0 // was @rewardReputation	// was 100



	// ************ REQUIREMENTS ************

	REQUIREMENT
	{
		name = ProgramActive
		type = ProgramActive
		program = EarlyLunarHabitation
	}

		REQUIREMENT
	{
		name = CompleteContract
		type = CompleteContract
		contractType = LunarHabitationRDVZ90D
	}

	PARAMETER
	{
		name = VesselGroup
		type = VesselParameterGroup
		title = Enter orbit of @targetBody
	
		PARAMETER
		{
			name = NewVessel
			type = NewVessel
			title = Launch a new vessel
			hideChildren = true
		}

		PARAMETER
		{
			name = ThreeCrew
			type = HasCrew
			minCrew = 3
			crewOnly = true
			title = Have at least 3 crewmember on board
			hideChildren = true
		}
		
		PARAMETER
		{
			name = Orbit
			type = Orbit
			disableOnStateChange = true
			title = Achieve lunar orbit with the crew
			
			PARAMETER
			{
				name = Duration
				type = Duration

				duration = 2m

				preWaitText = Check for stable orbit
				waitingText = Checking for stable orbit
				completionText = Stable orbit: Confirmed
			}
		}

		PARAMETER
		{
			name = LandCrewed
			type = All
			title = Land the crewed lander
			disableOnStateChange = true
			
			PARAMETER
			{
				name = ThreeCrew
				type = HasCrew
				minCrew = 3
				maxCrew = 99
				title = Land with at least 3 crew
				hideChildren = true
			}

			PARAMETER
			{
				name = OrbitWrapper
				title = Stay on the Moon for the specified duration
				type = All
				disableOnStateChange = true
				completeInSequence = true

				PARAMETER
				{
					name = LandOnMoon
					type = ReachState
					targetBody = Moon
					situation = LANDED
				}

				PARAMETER
				{
					name = Duration
					type = Duration
					duration = 90d
					preWaitText = Land on the moon
					WaitingText = Exploring...
					completionText = Exploration complete, you may return to Earth when ready.
				}
			}
		}
		
		PARAMETER
		{
			name = ReturnHome
			type = RP1ReturnHome
			title = Return home safely
			hideChildren = true
			completeInSequence = true
		}
	}
}
